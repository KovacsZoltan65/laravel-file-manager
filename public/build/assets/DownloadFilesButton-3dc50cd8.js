import{J as f,o as c,c as h,w as u,d as m,t as w,b as d}from"./app-ddfa9cd8.js";import{P as B}from"./PrimaryButton-683c0c78.js";import{h as _}from"./http-helper-3f5fbdde.js";const g=d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 mr-2"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})],-1),x={__name:"DownloadFilesButton",props:{all:{type:Boolean,required:!1,default:!1},ids:{type:Array,required:!1},sharedWithMe:!1,sharedByMe:!1},setup(i){const e=i,l=f();function p(){var n,s;if(!e.all&&e.ids.length===0)return;const o=new URLSearchParams;if((n=l.props.folder)!=null&&n.id&&o.append("parent_id",(s=l.props.folder)==null?void 0:s.id),e.all)o.append("all",e.all?1:0);else for(let t of e.ids)o.append("ids[]",t);let a=route("file.download");e.sharedWithMe?a=route("file.downloadSharedWithMe"):e.sharedByMe&&(a=route("file.downloadSharedByMe")),_(a+"?"+o.toString()).then(t=>{if(console.log(t),!t.url)return;const r=document.createElement("a");r.download=t.filename,r.href=t.url,r.click()})}return(o,a)=>(c(),h(B,{onClick:p},{default:u(()=>[g,m(" "+w(o.$t("download")),1)]),_:1}))}};export{x as _};
